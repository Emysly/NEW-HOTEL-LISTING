<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"
      integrity="sha256-46qynGAkLSFpVbEBog43gvNhfrOj+BmwXdxFgVK/Kvc="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../css/styles.css" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script>
      if (!localStorage.getItem("isLoggedIn")) {
        window.location.replace("./login");
      }
      if (!localStorage.getItem("token")) {
        window.location.replace("/");
      }
    </script>
    <title>Hotel Listing App</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-dark">
      <a class="navbar-brand text-white" href="/">Hotels.ng</a>

      <button
        class="navbar-toggler bg-dark"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav ml-auto mr-5">
          <div class="dropdown">
            <a
              class="btn btn-secondary dropdown-toggle"
              href="#"
              role="button"
              id="dropdownMenuLink"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              Management
            </a>

            <div
              class="dropdown-menu bg-secondary"
              aria-labelledby="dropdownMenuLink"
            >
              <p class="user123 text-success pl-3"></p>
              <a class="dropdown-item" href="home"
                ><i class="fas fa-tachometer-alt"></i> Dashboard</a
              >
              <a class="dropdown-item" href="allhotels"
                ><i class="fas fa-h-square"></i> .Hotels</a
              >
              <a class="dropdown-item" href="#">Recycle Bin</a>
              <a class="dropdown-item" href="#">Invoicing</a>
              <a class="dropdown-item" href="#">Profile</a>
            </div>
          </div>

          <a href="/"
            ><button type="button" class="btn btn-dark logout">
              Logout <i class="fas fa-sign-out-alt"></i></button
          ></a>
        </div>
      </div>
    </nav>

    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
    <script>
      if (!localStorage.getItem("isLoggedIn")) {
        window.location.replace("./login");
      }

      const data = localStorage.getItem("userEmail");
      let node = document.createElement("p"); // Create a <li> node
      let textnode = document.createTextNode(data); // Create a text node
      node.appendChild(textnode); // Append the text to <li>

      const result = document.createElement("a");
      result.appendChild(node);
      document.querySelector(".user123").append(result);

      (function(global) {
        if (typeof global === "undefined") {
          throw new Error("window is undefined");
        }

        let _hash = "!";
        let noBackPlease = function() {
          global.location.href += "#";

          // making sure we have the fruit available for juice (^__^)
          global.setTimeout(function() {
            global.location.href += "!";
          }, 50);
        };

        global.onhashchange = function() {
          if (global.location.hash !== _hash) {
            global.location.hash = _hash;
          }
        };

        global.onload = function() {
          noBackPlease();

          // disables backspace on page except on input fields and textarea..
          document.body.onkeydown = function(e) {
            let elm = e.target.nodeName.toLowerCase();
            if (e.which === 8 && (elm !== "input" && elm !== "textarea")) {
              e.preventDefault();
            }
            // stopping event bubbling up the DOM tree..
            e.stopPropagation();
          };
        };
      })(window);
    </script>
    <script src="../js/rooms.js"></script>
    <script src="../js/user.js"></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <script>
      $(".success").hide();
      $(".error").hide();
    </script>
  </body>
</html>
